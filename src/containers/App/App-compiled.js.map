{"version":3,"sources":["App.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;wCAEC,qCAAa,CAAC;AACb,WAAS,uBAAmC;AAAA,0BAAjC,KAAiC;AAAA,QAAzB,QAAyB,cAAzB,QAAyB;AAAA,QAAf,QAAe,cAAf,QAAe;;AAC1C,QAAM,WAAW,EAAjB;;AAEA,QAAI,CAAC,oBAAa,UAAb,CAAL,EAA+B;AAC7B,eAAS,IAAT,CAAc,SAAS,iBAAT,CAAd;AACD;AACD,QAAI,CAAC,oBAAa,UAAb,CAAL,EAA+B;AAC7B,eAAS,IAAT,CAAc,SAAS,iBAAT,CAAd;AACD;;AAED,WAAO,kBAAQ,GAAR,CAAY,QAAZ,CAAP;AACD;AAZY,CAAD,CAAb,C,UAcA,yBACC;AAAA,SAAU,EAAC,MAAM,MAAM,IAAN,CAAW,IAAlB,EAAV;AAAA,CADD,EAEC,EAAC,oBAAD,EAAS,iCAAT,EAFD,C;;;;;;;;;;;;;;wMAyBC,Y,GAAe,UAAC,KAAD,EAAW;AACxB,YAAM,cAAN;AACA,YAAK,KAAL,CAAW,MAAX;AACD,K;;;;;8CAbyB,S,EAAW;AACnC,UAAI,CAAC,KAAK,KAAL,CAAW,IAAZ,IAAoB,UAAU,IAAlC,EAAwC;AACtC;AACA,aAAK,KAAL,CAAW,SAAX,CAAqB,eAArB;AACD,OAHD,MAGO,IAAI,KAAK,KAAL,CAAW,IAAX,IAAmB,CAAC,UAAU,IAAlC,EAAwC;AAC7C;AACA,aAAK,KAAL,CAAW,SAAX,CAAqB,GAArB;AACD;AACF;;;6BAOQ;AAAA,UACA,IADA,GACQ,KAAK,KADb,CACA,IADA;;AAEP,UAAM,SAAS,QAAQ,YAAR,CAAf;;AAEA,aACE;AAAA;AAAA,UAAK,WAAW,OAAO,GAAvB;AACE,6DAAY,iBAAO,GAAP,CAAW,IAAvB,CADF;AAEE;AAAA;AAAA,YAAQ,cAAR;AACE;AAAA,6BAAQ,MAAR;AAAA;AACE;AAAA,+BAAQ,KAAR;AAAA;AACE;AAAA;AAAA,kBAAW,IAAG,GAAd,EAAkB,aAAa,EAAC,OAAO,SAAR,EAA/B;AACE,uDAAK,WAAW,OAAO,KAAvB,GADF;AAEE;AAAA;AAAA;AAAO,mCAAO,GAAP,CAAW;AAAlB;AAFF;AADF,aADF;AAOE,2DAAQ,MAAR;AAPF,WADF;AAWE;AAAA,6BAAQ,QAAR;AAAA,cAAiB,UAAU,CAA3B;AACE;AAAA;AAAA,gBAAK,YAAL;AACG,sBAAQ;AAAA;AAAA,kBAAe,IAAG,OAAlB;AACP;AAAA;AAAA,oBAAS,UAAU,CAAnB;AAAA;AAAA;AADO,eADX;AAKE;AAAA;AAAA,kBAAe,IAAG,UAAlB;AACE;AAAA;AAAA,oBAAS,UAAU,CAAnB;AAAA;AAAA;AADF,eALF;AAQE;AAAA;AAAA,kBAAe,IAAG,SAAlB;AACE;AAAA;AAAA,oBAAS,UAAU,CAAnB;AAAA;AAAA;AADF,eARF;AAWE;AAAA;AAAA,kBAAe,IAAG,aAAlB;AACE;AAAA;AAAA,oBAAS,UAAU,CAAnB;AAAA;AAAA;AADF,eAXF;AAcE;AAAA;AAAA,kBAAe,IAAG,QAAlB;AACE;AAAA;AAAA,oBAAS,UAAU,CAAnB;AAAA;AAAA;AADF,eAdF;AAiBE;AAAA;AAAA,kBAAe,IAAG,SAAlB;AACE;AAAA;AAAA,oBAAS,UAAU,CAAnB;AAAA;AAAA;AADF,eAjBF;AAqBG,eAAC,IAAD,IACD;AAAA;AAAA,kBAAe,IAAG,QAAlB;AACE;AAAA;AAAA,oBAAS,UAAU,CAAnB;AAAA;AAAA;AADF,eAtBF;AAyBG,sBACD;AAAA;AAAA,kBAAe,IAAG,SAAlB;AACE;AAAA;AAAA,oBAAS,UAAU,CAAnB,EAAsB,WAAU,aAAhC,EAA8C,SAAS,KAAK,YAA5D;AAAA;AAAA;AADF;AA1BF,aADF;AAiCG,oBACD;AAAA;AAAA,gBAAG,WAAW,OAAO,eAAP,GAAyB,cAAvC;AAAA;AAAoE;AAAA;AAAA;AAAS,qBAAK;AAAd,eAApE;AAAA;AAAA,aAlCF;AAmCE;AAAA;AAAA,gBAAK,YAAL,EAAY,eAAZ;AACE;AAAA;AAAA,kBAAS,UAAU,CAAnB,EAAsB,QAAO,QAA7B,EAAsC,OAAM,gBAA5C,EAA6D,MAAK,8DAAlE;AACE,qDAAG,WAAU,cAAb;AADF;AADF;AAnCF;AAXF,SAFF;AAwDE;AAAA;AAAA,YAAK,WAAW,OAAO,UAAvB;AACG,eAAK,KAAL,CAAW;AADd,SAxDF;AA2DE,iEA3DF;AA6DE;AAAA;AAAA,YAAK,WAAU,kBAAf;AAAA;AACiC;AAAA;AAAA;AAC/B,oBAAK,qEAD0B;AAE/B,sBAAO,QAFwB;AAAA;AAAA,WADjC;AAAA;AAG0C;AAAA;AAAA;AACxC,oBAAK,qCADmC,EACG,QAAO,QADV;AAAA;AAAA,WAH1C;AAAA;AAAA;AA7DF,OADF;AAsED;;;8BApGM,S,GAAY;AACjB,YAAU,kBAAU,MAAV,CAAiB,UADV;AAEjB,QAAM,kBAAU,MAFC;AAGjB,UAAQ,kBAAU,IAAV,CAAe,UAHN;AAIjB,aAAW,kBAAU,IAAV,CAAe;AAJT,C,UAOZ,Y,GAAe;AACpB,SAAO,kBAAU,MAAV,CAAiB;AADJ,C","file":"App-compiled.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { IndexLink } from 'react-router';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Navbar from 'react-bootstrap/lib/Navbar';\nimport Nav from 'react-bootstrap/lib/Nav';\nimport NavItem from 'react-bootstrap/lib/NavItem';\nimport Helmet from 'react-helmet';\nimport { isLoaded as isInfoLoaded, load as loadInfo } from 'redux/modules/info';\nimport { isLoaded as isAuthLoaded, load as loadAuth, logout } from 'redux/modules/auth';\nimport { InfoBar } from 'components';\nimport { push } from 'react-router-redux';\nimport config from '../../config';\nimport { asyncConnect } from 'redux-async-connect';\n\n@asyncConnect([{\n  promise: ({store: {dispatch, getState}}) => {\n    const promises = [];\n\n    if (!isInfoLoaded(getState())) {\n      promises.push(dispatch(loadInfo()));\n    }\n    if (!isAuthLoaded(getState())) {\n      promises.push(dispatch(loadAuth()));\n    }\n\n    return Promise.all(promises);\n  }\n}])\n@connect(\n  state => ({user: state.auth.user}),\n  {logout, pushState: push})\nexport default class App extends Component {\n  static propTypes = {\n    children: PropTypes.object.isRequired,\n    user: PropTypes.object,\n    logout: PropTypes.func.isRequired,\n    pushState: PropTypes.func.isRequired\n  };\n\n  static contextTypes = {\n    store: PropTypes.object.isRequired\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.props.user && nextProps.user) {\n      // login\n      this.props.pushState('/loginSuccess');\n    } else if (this.props.user && !nextProps.user) {\n      // logout\n      this.props.pushState('/');\n    }\n  }\n\n  handleLogout = (event) => {\n    event.preventDefault();\n    this.props.logout();\n  };\n\n  render() {\n    const {user} = this.props;\n    const styles = require('./App.scss');\n\n    return (\n      <div className={styles.app}>\n        <Helmet {...config.app.head}/>\n        <Navbar fixedTop>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <IndexLink to=\"/\" activeStyle={{color: '#33e0ff'}}>\n                <div className={styles.brand}/>\n                <span>{config.app.title}</span>\n              </IndexLink>\n            </Navbar.Brand>\n            <Navbar.Toggle/>\n          </Navbar.Header>\n\n          <Navbar.Collapse eventKey={0}>\n            <Nav navbar>\n              {user && <LinkContainer to=\"/chat\">\n                <NavItem eventKey={1}>Chat</NavItem>\n              </LinkContainer>}\n\n              <LinkContainer to=\"/widgets\">\n                <NavItem eventKey={2}>Widgets</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/survey\">\n                <NavItem eventKey={3}>Survey</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/pagination\">\n                <NavItem eventKey={4}>Pagination</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/about\">\n                <NavItem eventKey={5}>About Us</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/editor\">\n                <NavItem eventKey={6}>Editor</NavItem>\n              </LinkContainer>\n\n              {!user &&\n              <LinkContainer to=\"/login\">\n                <NavItem eventKey={7}>Login</NavItem>\n              </LinkContainer>}\n              {user &&\n              <LinkContainer to=\"/logout\">\n                <NavItem eventKey={8} className=\"logout-link\" onClick={this.handleLogout}>\n                  Logout\n                </NavItem>\n              </LinkContainer>}\n            </Nav>\n            {user &&\n            <p className={styles.loggedInMessage + ' navbar-text'}>Logged in as <strong>{user.name}</strong>.</p>}\n            <Nav navbar pullRight>\n              <NavItem eventKey={1} target=\"_blank\" title=\"View on Github\" href=\"https://github.com/erikras/react-redux-universal-hot-example\">\n                <i className=\"fa fa-github\"/>\n              </NavItem>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n\n        <div className={styles.appContent}>\n          {this.props.children}\n        </div>\n        <InfoBar/>\n\n        <div className=\"well text-center\">\n          Have questions 2? Ask for help <a\n          href=\"https://github.com/erikras/react-redux-universal-hot-example/issues\"\n          target=\"_blank\">on Github</a> or in the <a\n          href=\"https://discord.gg/0ZcbPKXt5bZZb1Ko\" target=\"_blank\">#react-redux-universal</a> Discord channel.\n        </div>\n      </div>\n    );\n  }\n}\n"]}